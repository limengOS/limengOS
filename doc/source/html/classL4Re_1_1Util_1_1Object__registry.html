<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>L4Re – L4 Runtime Environment: L4Re::Util::Object_registry Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="l4re.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">L4Re – L4 Runtime Environment
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classL4Re_1_1Util_1_1Object__registry.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">L4Re::Util::Object_registry Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A registry that manages server objects and their attached IPC gates for a single server loop for a specific thread.  
 <a href="classL4Re_1_1Util_1_1Object__registry.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for L4Re::Util::Object_registry:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classL4Re_1_1Util_1_1Object__registry__inherit__graph.svg" width="323" height="419"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for L4Re::Util::Object_registry:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classL4Re_1_1Util_1_1Object__registry__coll__graph.svg" width="918" height="1052"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aee2f4a6d4d4239174b94a1f4f6412603"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Util_1_1Object__registry.html#aee2f4a6d4d4239174b94a1f4f6412603">Object_registry</a> (<a class="el" href="classL4_1_1Ipc__svr_1_1Server__iface.html">L4::Ipc_svr::Server_iface</a> *sif)</td></tr>
<tr class="memdesc:aee2f4a6d4d4239174b94a1f4f6412603"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a registry for the main thread of the task using the default factory.  <a href="classL4Re_1_1Util_1_1Object__registry.html#aee2f4a6d4d4239174b94a1f4f6412603">More...</a><br /></td></tr>
<tr class="separator:aee2f4a6d4d4239174b94a1f4f6412603"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43efef7072073bd60c32be1474b38ed3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Util_1_1Object__registry.html#a43efef7072073bd60c32be1474b38ed3">Object_registry</a> (<a class="el" href="classL4_1_1Ipc__svr_1_1Server__iface.html">L4::Ipc_svr::Server_iface</a> *sif, <a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt; <a class="el" href="classL4_1_1Thread.html">L4::Thread</a> &gt; server, <a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt; <a class="el" href="classL4_1_1Factory.html">L4::Factory</a> &gt; factory)</td></tr>
<tr class="memdesc:a43efef7072073bd60c32be1474b38ed3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a registry for arbitrary threads.  <a href="classL4Re_1_1Util_1_1Object__registry.html#a43efef7072073bd60c32be1474b38ed3">More...</a><br /></td></tr>
<tr class="separator:a43efef7072073bd60c32be1474b38ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f518a9381dd3ea947d5adc5d0a614a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Util_1_1Object__registry.html#a8f518a9381dd3ea947d5adc5d0a614a0">register_obj</a> (<a class="el" href="structL4_1_1Epiface.html">L4::Epiface</a> *o, char const *service) override</td></tr>
<tr class="memdesc:a8f518a9381dd3ea947d5adc5d0a614a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new server object to a pre-allocated receive endpoint.  <a href="classL4Re_1_1Util_1_1Object__registry.html#a8f518a9381dd3ea947d5adc5d0a614a0">More...</a><br /></td></tr>
<tr class="separator:a8f518a9381dd3ea947d5adc5d0a614a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad62778b4ad493753a518bf371f14e05e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt; void &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Util_1_1Object__registry.html#ad62778b4ad493753a518bf371f14e05e">register_obj</a> (<a class="el" href="structL4_1_1Epiface.html">L4::Epiface</a> *o) override</td></tr>
<tr class="memdesc:ad62778b4ad493753a518bf371f14e05e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a new server object on a newly allocated capability.  <a href="classL4Re_1_1Util_1_1Object__registry.html#ad62778b4ad493753a518bf371f14e05e">More...</a><br /></td></tr>
<tr class="separator:ad62778b4ad493753a518bf371f14e05e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9093b28711f4feb8e0eeea66d718dfd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt; <a class="el" href="classL4_1_1Irq.html">L4::Irq</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Util_1_1Object__registry.html#a9093b28711f4feb8e0eeea66d718dfd7">register_irq_obj</a> (<a class="el" href="structL4_1_1Epiface.html">L4::Epiface</a> *o) override</td></tr>
<tr class="memdesc:a9093b28711f4feb8e0eeea66d718dfd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a handler for an interrupt.  <a href="classL4Re_1_1Util_1_1Object__registry.html#a9093b28711f4feb8e0eeea66d718dfd7">More...</a><br /></td></tr>
<tr class="separator:a9093b28711f4feb8e0eeea66d718dfd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e8eb8608730d20aac6464eb9c5d6c00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt; <a class="el" href="classL4_1_1Rcv__endpoint.html">L4::Rcv_endpoint</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Util_1_1Object__registry.html#a0e8eb8608730d20aac6464eb9c5d6c00">register_obj</a> (<a class="el" href="structL4_1_1Epiface.html">L4::Epiface</a> *o, <a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt; <a class="el" href="classL4_1_1Rcv__endpoint.html">L4::Rcv_endpoint</a> &gt; ep) override</td></tr>
<tr class="memdesc:a0e8eb8608730d20aac6464eb9c5d6c00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a handler for an already existing interrupt.  <a href="classL4Re_1_1Util_1_1Object__registry.html#a0e8eb8608730d20aac6464eb9c5d6c00">More...</a><br /></td></tr>
<tr class="separator:a0e8eb8608730d20aac6464eb9c5d6c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeea59583ffddfef4e7c1c3e6eed41b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Util_1_1Object__registry.html#aeeea59583ffddfef4e7c1c3e6eed41b6">unregister_obj</a> (<a class="el" href="structL4_1_1Epiface.html">L4::Epiface</a> *o, bool unmap=true) override</td></tr>
<tr class="memdesc:aeeea59583ffddfef4e7c1c3e6eed41b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a server object from the handler list.  <a href="classL4Re_1_1Util_1_1Object__registry.html#aeeea59583ffddfef4e7c1c3e6eed41b6">More...</a><br /></td></tr>
<tr class="separator:aeeea59583ffddfef4e7c1c3e6eed41b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classL4_1_1Basic__registry"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classL4_1_1Basic__registry')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classL4_1_1Basic__registry.html">L4::Basic_registry</a></td></tr>
<tr class="memitem:a91c81e54c228226969432e0a1b009883 inherit pub_static_methods_classL4_1_1Basic__registry"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structL4_1_1Epiface.html">Value</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4_1_1Basic__registry.html#a91c81e54c228226969432e0a1b009883">find</a> (<a class="el" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb">l4_umword_t</a> label)</td></tr>
<tr class="memdesc:a91c81e54c228226969432e0a1b009883 inherit pub_static_methods_classL4_1_1Basic__registry"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the server object for an <a class="el" href="classL4_1_1Ipc__gate.html" title="The C++ IPC gate interface, see IPC-Gate API for the C interface.">Ipc_gate</a> label.  <a href="classL4_1_1Basic__registry.html#a91c81e54c228226969432e0a1b009883">More...</a><br /></td></tr>
<tr class="separator:a91c81e54c228226969432e0a1b009883 inherit pub_static_methods_classL4_1_1Basic__registry"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a730ef8bbfbc7154a04e50aae88252b43 inherit pub_static_methods_classL4_1_1Basic__registry"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structl4__msgtag__t.html">l4_msgtag_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4_1_1Basic__registry.html#a730ef8bbfbc7154a04e50aae88252b43">dispatch</a> (<a class="el" href="structl4__msgtag__t.html">l4_msgtag_t</a> tag, <a class="el" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb">l4_umword_t</a> label, <a class="el" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb">l4_utcb_t</a> *utcb)</td></tr>
<tr class="memdesc:a730ef8bbfbc7154a04e50aae88252b43 inherit pub_static_methods_classL4_1_1Basic__registry"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dispatch function called by the server loop.  <a href="classL4_1_1Basic__registry.html#a730ef8bbfbc7154a04e50aae88252b43">More...</a><br /></td></tr>
<tr class="separator:a730ef8bbfbc7154a04e50aae88252b43 inherit pub_static_methods_classL4_1_1Basic__registry"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A registry that manages server objects and their attached IPC gates for a single server loop for a specific thread. </p>
<p>This class manages most of the setup of a server object. If necessary, an IPC gate is created, the specified thread is bound to the IPC gate. Incoming IPC is dispatched to the server object based on the label of the IPC gate.</p>
<p>The object registry is also able to manage IRQ endpoints. They require a different method for the object creation. Otherwise they are handled in the same way as IPC gates: a server object is responsible to process the incoming interrupts. </p>

<p class="definition">Definition at line <a class="el" href="object__registry_source.html#l00052">52</a> of file <a class="el" href="object__registry_source.html">object_registry</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aee2f4a6d4d4239174b94a1f4f6412603"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee2f4a6d4d4239174b94a1f4f6412603">&#9670;&nbsp;</a></span>Object_registry() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">L4Re::Util::Object_registry::Object_registry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classL4_1_1Ipc__svr_1_1Server__iface.html">L4::Ipc_svr::Server_iface</a> *&#160;</td>
          <td class="paramname"><em>sif</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a registry for the main thread of the task using the default factory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sif</td><td>Server loop interface. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="object__registry_source.html#l00078">78</a> of file <a class="el" href="object__registry_source.html">object_registry</a>.</p>

</div>
</div>
<a id="a43efef7072073bd60c32be1474b38ed3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43efef7072073bd60c32be1474b38ed3">&#9670;&nbsp;</a></span>Object_registry() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">L4Re::Util::Object_registry::Object_registry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classL4_1_1Ipc__svr_1_1Server__iface.html">L4::Ipc_svr::Server_iface</a> *&#160;</td>
          <td class="paramname"><em>sif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt; <a class="el" href="classL4_1_1Thread.html">L4::Thread</a> &gt;&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt; <a class="el" href="classL4_1_1Factory.html">L4::Factory</a> &gt;&#160;</td>
          <td class="paramname"><em>factory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a registry for arbitrary threads. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sif</td><td>Server loop interface. </td></tr>
    <tr><td class="paramname">server</td><td>Capability to the thread that executes the server objects. </td></tr>
    <tr><td class="paramname">factory</td><td>Capability to a factory object capable of creating new IPC gates. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="object__registry_source.html#l00092">92</a> of file <a class="el" href="object__registry_source.html">object_registry</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9093b28711f4feb8e0eeea66d718dfd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9093b28711f4feb8e0eeea66d718dfd7">&#9670;&nbsp;</a></span>register_irq_obj()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt;<a class="el" href="classL4_1_1Irq.html">L4::Irq</a>&gt; L4Re::Util::Object_registry::register_irq_obj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structL4_1_1Epiface.html">L4::Epiface</a> *&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a handler for an interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">o</td><td>Server object that handles IRQs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">L4::Cap&lt;L4::Irq&gt;</td><td>Capability to a new IRQ object on success. </td></tr>
    <tr><td class="paramname"><a class="el" href="classL4_1_1Cap__base.html#ac74dbedb04347341ba30ece923c12fe7af425c8e16afcd760ecb1f30bd6c1437a" title="Invalid capability selector.">L4::Cap&lt;L4::Irq&gt;::Invalid</a></td><td>The allocation of the IRQ has failed.</td></tr>
  </table>
  </dd>
</dl>
<p>The IRQ will be newly allocated using the registry's factory object. The caller must call <a class="el" href="classL4Re_1_1Util_1_1Object__registry.html#aeeea59583ffddfef4e7c1c3e6eed41b6" title="Remove a server object from the handler list.">unregister_obj()</a> to free all resources. </p>

<p>Implements <a class="el" href="classL4_1_1Registry__iface.html#ab2b05d116e522ebe06ebabe32bd7283a">L4::Registry_iface</a>.</p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2libs_2l4re_2c_09_09_2shared_ds_2ds_srv_8cc-example.html#a21">examples/libs/l4re/c++/shared_ds/ds_srv.cc</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="object__registry_source.html#l00238">238</a> of file <a class="el" href="object__registry_source.html">object_registry</a>.</p>

</div>
</div>
<a id="ad62778b4ad493753a518bf371f14e05e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad62778b4ad493753a518bf371f14e05e">&#9670;&nbsp;</a></span>register_obj() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt;void&gt; L4Re::Util::Object_registry::register_obj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structL4_1_1Epiface.html">L4::Epiface</a> *&#160;</td>
          <td class="paramname"><em>o</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a new server object on a newly allocated capability. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">o</td><td>Server object that handles IPC requests.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">L4::Cap&lt;void&gt;</td><td>A valid capability to a new IPC gate. </td></tr>
    <tr><td class="paramname"><a class="el" href="classL4_1_1Cap__base.html#ac74dbedb04347341ba30ece923c12fe7af425c8e16afcd760ecb1f30bd6c1437a" title="Invalid capability selector.">L4::Cap&lt;void&gt;::Invalid</a></td><td>The allocation of the IPC gate has failed.</td></tr>
  </table>
  </dd>
</dl>
<p>The IPC gate will be allocated using the registry's factory. The caller must call <a class="el" href="classL4Re_1_1Util_1_1Object__registry.html#aeeea59583ffddfef4e7c1c3e6eed41b6" title="Remove a server object from the handler list.">unregister_obj()</a> to free all resources. </p>

<p>Implements <a class="el" href="classL4_1_1Registry__iface.html#a32c3b5f8fcd4a46caa927dc83d15b9c3">L4::Registry_iface</a>.</p>

<p class="definition">Definition at line <a class="el" href="object__registry_source.html#l00222">222</a> of file <a class="el" href="object__registry_source.html">object_registry</a>.</p>

</div>
</div>
<a id="a8f518a9381dd3ea947d5adc5d0a614a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f518a9381dd3ea947d5adc5d0a614a0">&#9670;&nbsp;</a></span>register_obj() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt;void&gt; L4Re::Util::Object_registry::register_obj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structL4_1_1Epiface.html">L4::Epiface</a> *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char const *&#160;</td>
          <td class="paramname"><em>service</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a new server object to a pre-allocated receive endpoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">o</td><td>Server object that handles IPC requests. </td></tr>
    <tr><td class="paramname">service</td><td>Name of a pre-allocated receive endpoint.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">L4::Cap&lt;void&gt;</td><td>The capability known as <code>service</code> on success. </td></tr>
    <tr><td class="paramname"><a class="el" href="classL4_1_1Cap__base.html#ac74dbedb04347341ba30ece923c12fe7af425c8e16afcd760ecb1f30bd6c1437a" title="Invalid capability selector.">L4::Cap&lt;void&gt;::Invalid</a></td><td>No capability with the given name found.</td></tr>
  </table>
  </dd>
</dl>
<p>The interface must be freed with <a class="el" href="classL4Re_1_1Util_1_1Object__registry.html#aeeea59583ffddfef4e7c1c3e6eed41b6" title="Remove a server object from the handler list.">unregister_obj()</a> by the caller to unbind the thread from the capability. </p>

<p>Implements <a class="el" href="classL4_1_1Registry__iface.html#a5467da542075321062daab1bda1768bb">L4::Registry_iface</a>.</p>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2clntsrv_2server_8cc-example.html#a3">examples/clntsrv/server.cc</a>, <a class="el" href="examples_2libs_2l4re_2c_09_09_2shared_ds_2ds_srv_8cc-example.html#a22">examples/libs/l4re/c++/shared_ds/ds_srv.cc</a>, and <a class="el" href="examples_2libs_2l4re_2streammap_2server_8cc-example.html#a13">examples/libs/l4re/streammap/server.cc</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="object__registry_source.html#l00205">205</a> of file <a class="el" href="object__registry_source.html">object_registry</a>.</p>

</div>
</div>
<a id="a0e8eb8608730d20aac6464eb9c5d6c00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e8eb8608730d20aac6464eb9c5d6c00">&#9670;&nbsp;</a></span>register_obj() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt;<a class="el" href="classL4_1_1Rcv__endpoint.html">L4::Rcv_endpoint</a>&gt; L4Re::Util::Object_registry::register_obj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structL4_1_1Epiface.html">L4::Epiface</a> *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt; <a class="el" href="classL4_1_1Rcv__endpoint.html">L4::Rcv_endpoint</a> &gt;&#160;</td>
          <td class="paramname"><em>ep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Register a handler for an already existing interrupt. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">o</td><td>Server object that handles the IPC. </td></tr>
    <tr><td class="paramname">ep</td><td>Capability to a receive endpoint, may be a hardware or software interrupt or an IPC gate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">L4::Cap&lt;L4::Rcv_endpoint&gt;</td><td>Capability <code>ep</code> on success. </td></tr>
    <tr><td class="paramname"><a class="el" href="classL4_1_1Cap__base.html#ac74dbedb04347341ba30ece923c12fe7af425c8e16afcd760ecb1f30bd6c1437a" title="Invalid capability selector.">L4::Cap&lt;L4::Rcv_endpoint&gt;::Invalid</a></td><td>The IRQ attach operation has failed.</td></tr>
  </table>
  </dd>
</dl>
<p>The interface must be freed with <a class="el" href="classL4Re_1_1Util_1_1Object__registry.html#aeeea59583ffddfef4e7c1c3e6eed41b6" title="Remove a server object from the handler list.">unregister_obj()</a> by the caller to unbind the thread from the capability. </p>

<p>Implements <a class="el" href="classL4_1_1Registry__iface.html#a176b573e965e6eb276d652a58b34e7e3">L4::Registry_iface</a>.</p>

<p class="definition">Definition at line <a class="el" href="object__registry_source.html#l00260">260</a> of file <a class="el" href="object__registry_source.html">object_registry</a>.</p>

</div>
</div>
<a id="aeeea59583ffddfef4e7c1c3e6eed41b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeea59583ffddfef4e7c1c3e6eed41b6">&#9670;&nbsp;</a></span>unregister_obj()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void L4Re::Util::Object_registry::unregister_obj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structL4_1_1Epiface.html">L4::Epiface</a> *&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>unmap</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove a server object from the handler list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">o</td><td>Server object to unbind. </td></tr>
    <tr><td class="paramname">unmap</td><td>Specifies if the object capability shall be unmapped (true) or not. The default (true) is to unmap the capability.</td></tr>
  </table>
  </dd>
</dl>
<p>The capability used by the server object will be unmapped if <code>unmap</code> is true. </p>

<p>Implements <a class="el" href="classL4_1_1Registry__iface.html#a97645d010b6d832e2914b65061e55b71">L4::Registry_iface</a>.</p>

<p class="definition">Definition at line <a class="el" href="object__registry_source.html#l00276">276</a> of file <a class="el" href="object__registry_source.html">object_registry</a>.</p>

<p class="reference">References <a class="el" href="sys_2thread_source.html#l00418">L4::Thread::Modify_senders::add()</a>, <a class="el" href="group__l4re__cap__api.html#ga29e3dbeb3c8ed0609519c9df212c9c52">L4Re::Util::cap_alloc</a>, <a class="el" href="counting__cap__alloc_source.html#l00191">L4Re::Util::Counting_cap_alloc&lt; COUNTERTYPE &gt;::free()</a>, <a class="el" href="l4_2sys_2consts_8h_source.html#l00171">L4_FP_ALL_SPACES</a>, <a class="el" href="sys_2thread_source.html#l00448">L4::Thread::modify_senders()</a>, <a class="el" href="ipc__epiface_source.html#l00214">L4::Epiface::obj_cap()</a>, and <a class="el" href="ipc__epiface_source.html#l00232">L4::Epiface::set_server()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classL4Re_1_1Util_1_1Object__registry_aeeea59583ffddfef4e7c1c3e6eed41b6_cgraph.svg" width="687" height="286"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>l4/re/util/<a class="el" href="object__registry_source.html">object_registry</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceL4Re.html">L4Re</a></li><li class="navelem"><a class="el" href="namespaceL4Re_1_1Util.html">Util</a></li><li class="navelem"><a class="el" href="classL4Re_1_1Util_1_1Object__registry.html">Object_registry</a></li>
    <li class="footer">Generated on Mon Apr 18 2022 20:48:56 for L4Re – L4 Runtime Environment by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
