<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>L4Re – L4 Runtime Environment: Scheduler</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="l4re.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">L4Re – L4 Runtime Environment
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__l4__scheduler__api.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Scheduler<div class="ingroups"><a class="el" href="group__l4__api.html">Base API</a> &raquo; <a class="el" href="group__l4__kernel__object__api.html">Kernel Objects</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>C interface of the Scheduler kernel object, see <a class="el" href="classL4_1_1Scheduler.html" title="C++ interface of the Scheduler kernel object, see Scheduler for the C interface.">L4::Scheduler</a> for the C interface.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for Scheduler:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__l4__scheduler__api.svg" width="262" height="36"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structl4__sched__cpu__set__t.html">l4_sched_cpu_set_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPU sets.  <a href="structl4__sched__cpu__set__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structl4__sched__param__t.html">l4_sched_param_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduler parameter set.  <a href="structl4__sched__param__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga865f6c471fd1fd4d5de9bf9c66387c84"><td class="memItemLeft" align="right" valign="top"><a id="ga865f6c471fd1fd4d5de9bf9c66387c84"></a>
typedef struct <a class="el" href="structl4__sched__cpu__set__t.html">l4_sched_cpu_set_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__l4__scheduler__api.html#ga865f6c471fd1fd4d5de9bf9c66387c84">l4_sched_cpu_set_t</a></td></tr>
<tr class="memdesc:ga865f6c471fd1fd4d5de9bf9c66387c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">CPU sets. <br /></td></tr>
<tr class="separator:ga865f6c471fd1fd4d5de9bf9c66387c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5845ebad6af70f0d0cc49152adad65d"><td class="memItemLeft" align="right" valign="top"><a id="gaf5845ebad6af70f0d0cc49152adad65d"></a>
typedef struct <a class="el" href="structl4__sched__param__t.html">l4_sched_param_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__l4__scheduler__api.html#gaf5845ebad6af70f0d0cc49152adad65d">l4_sched_param_t</a></td></tr>
<tr class="memdesc:gaf5845ebad6af70f0d0cc49152adad65d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduler parameter set. <br /></td></tr>
<tr class="separator:gaf5845ebad6af70f0d0cc49152adad65d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga60f7dd34659eca637a4443d124540dc4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__l4__scheduler__api.html#ga60f7dd34659eca637a4443d124540dc4">L4_scheduler_classes</a> { <a class="el" href="group__l4__scheduler__api.html#gga60f7dd34659eca637a4443d124540dc4a8c77c0ce2d3ba66d14bedee3ec05f68d">L4_SCHEDULER_CLASS_FIXED_PRIO</a> = 1UL &lt;&lt; 1
, <a class="el" href="group__l4__scheduler__api.html#gga60f7dd34659eca637a4443d124540dc4a8921c1ebd8e455fd6eb441fceb39f38c">L4_SCHEDULER_CLASS_WFQ</a> = 1UL &lt;&lt; 2
 }</td></tr>
<tr class="memdesc:ga60f7dd34659eca637a4443d124540dc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Supported scheduler classes.  <a href="group__l4__scheduler__api.html#ga60f7dd34659eca637a4443d124540dc4">More...</a><br /></td></tr>
<tr class="separator:ga60f7dd34659eca637a4443d124540dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0b5a4009c40728ca0326ae9a603a9c0b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__l4__scheduler__api.html#ga0b5a4009c40728ca0326ae9a603a9c0b">L4_scheduler_ops</a> { <a class="el" href="group__l4__scheduler__api.html#gga0b5a4009c40728ca0326ae9a603a9c0ba7cf4293e84bdc74b2ed7016bd381cabb">L4_SCHEDULER_INFO_OP</a> = 0UL
, <a class="el" href="group__l4__scheduler__api.html#gga0b5a4009c40728ca0326ae9a603a9c0ba02b947c2473e4abce56be3c80a9eac01">L4_SCHEDULER_RUN_THREAD_OP</a> = 1UL
, <a class="el" href="group__l4__scheduler__api.html#gga0b5a4009c40728ca0326ae9a603a9c0ba0f92c789b1f2b6c4fbd1339651561398">L4_SCHEDULER_IDLE_TIME_OP</a> = 2UL
 }</td></tr>
<tr class="memdesc:ga0b5a4009c40728ca0326ae9a603a9c0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Operations on the Scheduler object.  <a href="group__l4__scheduler__api.html#ga0b5a4009c40728ca0326ae9a603a9c0b">More...</a><br /></td></tr>
<tr class="separator:ga0b5a4009c40728ca0326ae9a603a9c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga25d36547d6902c482c747b0face8781c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structl4__sched__cpu__set__t.html">l4_sched_cpu_set_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__l4__scheduler__api.html#ga25d36547d6902c482c747b0face8781c">l4_sched_cpu_set</a> (<a class="el" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb">l4_umword_t</a> offset, unsigned char granularity, <a class="el" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb">l4_umword_t</a> map=1) <a class="el" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931">L4_NOTHROW</a></td></tr>
<tr class="separator:ga25d36547d6902c482c747b0face8781c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga680dbcb3627dffba0aa691fc261a273d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structl4__msgtag__t.html">l4_msgtag_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__l4__scheduler__api.html#ga680dbcb3627dffba0aa691fc261a273d">l4_scheduler_info</a> (<a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a> scheduler, <a class="el" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb">l4_umword_t</a> *cpu_max, <a class="el" href="structl4__sched__cpu__set__t.html">l4_sched_cpu_set_t</a> *cpus) <a class="el" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931">L4_NOTHROW</a></td></tr>
<tr class="memdesc:ga680dbcb3627dffba0aa691fc261a273d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get scheduler information.  <a href="group__l4__scheduler__api.html#ga680dbcb3627dffba0aa691fc261a273d">More...</a><br /></td></tr>
<tr class="separator:ga680dbcb3627dffba0aa691fc261a273d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97fc9fce99006ce7011a25bb8d014c8d"><td class="memItemLeft" align="right" valign="top"><a id="ga97fc9fce99006ce7011a25bb8d014c8d"></a>
<a class="el" href="structl4__sched__param__t.html">l4_sched_param_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__l4__scheduler__api.html#ga97fc9fce99006ce7011a25bb8d014c8d">l4_sched_param</a> (unsigned prio, <a class="el" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb">l4_umword_t</a> quantum=0) <a class="el" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931">L4_NOTHROW</a></td></tr>
<tr class="memdesc:ga97fc9fce99006ce7011a25bb8d014c8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct scheduler parameter. <br /></td></tr>
<tr class="separator:ga97fc9fce99006ce7011a25bb8d014c8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2a9662639b3bc122d551dab6a1c9aca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structl4__msgtag__t.html">l4_msgtag_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__l4__scheduler__api.html#gad2a9662639b3bc122d551dab6a1c9aca">l4_scheduler_run_thread</a> (<a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a> scheduler, <a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a> thread, <a class="el" href="structl4__sched__param__t.html">l4_sched_param_t</a> const *sp) <a class="el" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931">L4_NOTHROW</a></td></tr>
<tr class="memdesc:gad2a9662639b3bc122d551dab6a1c9aca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a thread on a Scheduler.  <a href="group__l4__scheduler__api.html#gad2a9662639b3bc122d551dab6a1c9aca">More...</a><br /></td></tr>
<tr class="separator:gad2a9662639b3bc122d551dab6a1c9aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae0309103240230e4727245121002d2ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structl4__msgtag__t.html">l4_msgtag_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__l4__scheduler__api.html#gae0309103240230e4727245121002d2ac">l4_scheduler_idle_time</a> (<a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a> scheduler, <a class="el" href="structl4__sched__cpu__set__t.html">l4_sched_cpu_set_t</a> const *cpus, <a class="el" href="group__l4__basic__types.html#gab71da24eb7cda2c035f18b862309b101">l4_kernel_clock_t</a> *us) <a class="el" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931">L4_NOTHROW</a></td></tr>
<tr class="memdesc:gae0309103240230e4727245121002d2ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query the idle time (in µs) of a CPU.  <a href="group__l4__scheduler__api.html#gae0309103240230e4727245121002d2ac">More...</a><br /></td></tr>
<tr class="separator:gae0309103240230e4727245121002d2ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga062a1dfac473eb080c0cdca494c5be8c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__l4__scheduler__api.html#ga062a1dfac473eb080c0cdca494c5be8c">l4_scheduler_is_online</a> (<a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a> scheduler, <a class="el" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb">l4_umword_t</a> cpu) <a class="el" href="group__l4sys__defines.html#ga362dfa378e662dd04f710a23fc7ea931">L4_NOTHROW</a></td></tr>
<tr class="memdesc:ga062a1dfac473eb080c0cdca494c5be8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query if a CPU is online.  <a href="group__l4__scheduler__api.html#ga062a1dfac473eb080c0cdca494c5be8c">More...</a><br /></td></tr>
<tr class="separator:ga062a1dfac473eb080c0cdca494c5be8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>C interface of the Scheduler kernel object, see <a class="el" href="classL4_1_1Scheduler.html" title="C++ interface of the Scheduler kernel object, see Scheduler for the C interface.">L4::Scheduler</a> for the C interface. </p>
<p>The Scheduler interface allows a client to manage CPU resources. The API provides functions to query scheduler information, check the online state of CPUs, query CPU idle time and to start threads on defined CPU sets.</p>
<p>The scheduler offers a virtual device IRQ which triggers when the number of online cores changes, e.g. due to hotplug events. In contrast to hardware IRQs, this IRQ implements a limited functionality:</p><ul>
<li>Only IRQ line 0 is supported, no MSI vectors.</li>
<li>The IRQ is edge-triggered and the IRQ mode cannot be changed.</li>
<li>As the IRQ is edge-triggered, it does not have to be explicitly unmasked.</li>
</ul>
<p>It depends on the platform, which hotplug events actually trigger the IRQ. Many platforms only support triggering the IRQ when a CPU core different from the boot CPU goes online.</p>
<dl class="section user"><dt>Include File</dt><dd><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="scheduler_8h.html">l4/sys/scheduler.h</a>&gt;</span> </div>
<div class="ttc" id="ascheduler_8h_html"><div class="ttname"><a href="scheduler_8h.html">scheduler.h</a></div><div class="ttdoc">Scheduler object functions.</div></div>
</div><!-- fragment --> </dd></dl>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga60f7dd34659eca637a4443d124540dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60f7dd34659eca637a4443d124540dc4">&#9670;&nbsp;</a></span>L4_scheduler_classes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__l4__scheduler__api.html#ga60f7dd34659eca637a4443d124540dc4">L4_scheduler_classes</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Supported scheduler classes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga60f7dd34659eca637a4443d124540dc4a8c77c0ce2d3ba66d14bedee3ec05f68d"></a>L4_SCHEDULER_CLASS_FIXED_PRIO&#160;</td><td class="fielddoc"><p>Fixed-priority scheduler. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga60f7dd34659eca637a4443d124540dc4a8921c1ebd8e455fd6eb441fceb39f38c"></a>L4_SCHEDULER_CLASS_WFQ&#160;</td><td class="fielddoc"><p>Weighted fair queuing scheduler. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="scheduler_8h_source.html#l00057">57</a> of file <a class="el" href="scheduler_8h_source.html">scheduler.h</a>.</p>

</div>
</div>
<a id="ga0b5a4009c40728ca0326ae9a603a9c0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0b5a4009c40728ca0326ae9a603a9c0b">&#9670;&nbsp;</a></span>L4_scheduler_ops</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__l4__scheduler__api.html#ga0b5a4009c40728ca0326ae9a603a9c0b">L4_scheduler_ops</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Operations on the Scheduler object. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga0b5a4009c40728ca0326ae9a603a9c0ba7cf4293e84bdc74b2ed7016bd381cabb"></a>L4_SCHEDULER_INFO_OP&#160;</td><td class="fielddoc"><p>Query infos about the scheduler. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0b5a4009c40728ca0326ae9a603a9c0ba02b947c2473e4abce56be3c80a9eac01"></a>L4_SCHEDULER_RUN_THREAD_OP&#160;</td><td class="fielddoc"><p>Run a thread on this scheduler. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga0b5a4009c40728ca0326ae9a603a9c0ba0f92c789b1f2b6c4fbd1339651561398"></a>L4_SCHEDULER_IDLE_TIME_OP&#160;</td><td class="fielddoc"><p>Query idle time for the scheduler. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="scheduler_8h_source.html#l00234">234</a> of file <a class="el" href="scheduler_8h_source.html">scheduler.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga25d36547d6902c482c747b0face8781c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25d36547d6902c482c747b0face8781c">&#9670;&nbsp;</a></span>l4_sched_cpu_set()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structl4__sched__cpu__set__t.html">l4_sched_cpu_set_t</a> l4_sched_cpu_set </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb">l4_umword_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>granularity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb">l4_umword_t</a>&#160;</td>
          <td class="paramname"><em>map</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Offset. Must be a multiple of 2^granularity. </td></tr>
    <tr><td class="paramname">granularity</td><td>Granularity in log2 notation. </td></tr>
    <tr><td class="paramname">map</td><td>Bitmap of CPUs, defaults to 1 in C++.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CPU set. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2sys_2migrate_2thread_migrate_8cc-example.html#a2">examples/sys/migrate/thread_migrate.cc</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="scheduler_8h_source.html#l00244">244</a> of file <a class="el" href="scheduler_8h_source.html">scheduler.h</a>.</p>

<p class="reference">References <a class="el" href="scheduler_8h_source.html#l00083">l4_sched_cpu_set_t::gran_offset</a>, and <a class="el" href="scheduler_8h_source.html#l00088">l4_sched_cpu_set_t::map</a>.</p>

<p class="reference">Referenced by <a class="el" href="scheduler_8h_source.html#l00254">l4_sched_param()</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__l4__scheduler__api_ga25d36547d6902c482c747b0face8781c_icgraph.svg" width="323" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="gae0309103240230e4727245121002d2ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae0309103240230e4727245121002d2ac">&#9670;&nbsp;</a></span>l4_scheduler_idle_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structl4__msgtag__t.html">l4_msgtag_t</a> l4_scheduler_idle_time </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a>&#160;</td>
          <td class="paramname"><em>scheduler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structl4__sched__cpu__set__t.html">l4_sched_cpu_set_t</a> const *&#160;</td>
          <td class="paramname"><em>cpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__l4__basic__types.html#gab71da24eb7cda2c035f18b862309b101">l4_kernel_clock_t</a> *&#160;</td>
          <td class="paramname"><em>us</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query the idle time (in µs) of a CPU. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">scheduler</td><td>Scheduler object. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cpus</td><td>Set of CPUs to query. Only the idle time of the first selected CPU in <code>cpus.map</code> is queried. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">us</td><td>Idle time of queried CPU in µs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success. </td></tr>
    <tr><td class="paramname">-L4_EINVAL</td><td>Invalid CPU requested in cpu set.</td></tr>
  </table>
  </dd>
</dl>
<p>This function retrieves the idle time in µs of the first selected CPU in <code>cpus.map</code>. The idle time is the accumulated time a CPU has spent in the idle thread since its last reset. To calculate a load estimate <code>l</code> one has to retrieve the idle time at the beginning (<code>i1</code>) and the end (<code>i2</code>) of a known time interval <code>t</code>. The load is then calculated as l = 1 - (i2 - i1)/t.</p>
<p>The idle time is only defined for online CPUs. Reading the idle time from offline CPUs is undefined and may result in either getting -L4_EINVAL or calculating an estimated (incorrect) load of 1.</p>
<dl class="section note"><dt>Note</dt><dd>The idle time statistics of remote CPUs is updated on context switch events only, hence may not be up-to-date when requested cross-CPU. To get up-to-date idle time you should use a thread running on the same CPU of which the idle time is requested. </dd></dl>

<p class="definition">Definition at line <a class="el" href="scheduler_8h_source.html#l00368">368</a> of file <a class="el" href="scheduler_8h_source.html">scheduler.h</a>.</p>

</div>
</div>
<a id="ga680dbcb3627dffba0aa691fc261a273d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga680dbcb3627dffba0aa691fc261a273d">&#9670;&nbsp;</a></span>l4_scheduler_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structl4__msgtag__t.html">l4_msgtag_t</a> l4_scheduler_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a>&#160;</td>
          <td class="paramname"><em>scheduler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb">l4_umword_t</a> *&#160;</td>
          <td class="paramname"><em>cpu_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structl4__sched__cpu__set__t.html">l4_sched_cpu_set_t</a> *&#160;</td>
          <td class="paramname"><em>cpus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get scheduler information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">scheduler</td><td>Scheduler object. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cpu_max</td><td>Maximum number of CPUs ever available. Optional, can be NULL. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">cpus</td><td><em>cpus.offset</em> is first CPU of interest. <em>cpus.granularity</em> (see <a class="el" href="structl4__sched__cpu__set__t.html" title="CPU sets.">l4_sched_cpu_set_t</a>). <em>cpus.map</em> Bitmap of online CPUs. Pass NULL if this information is not required.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success. </td></tr>
    <tr><td class="paramname">-L4_EINVAL</td><td>The given CPU offset is larger than the maximum number of CPUs. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="scheduler_8h_source.html#l00346">346</a> of file <a class="el" href="scheduler_8h_source.html">scheduler.h</a>.</p>

</div>
</div>
<a id="ga062a1dfac473eb080c0cdca494c5be8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga062a1dfac473eb080c0cdca494c5be8c">&#9670;&nbsp;</a></span>l4_scheduler_is_online()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int l4_scheduler_is_online </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a>&#160;</td>
          <td class="paramname"><em>scheduler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__l4__basic__types.html#ga1c2c4b333f75b1d05b59855910f2b9cb">l4_umword_t</a>&#160;</td>
          <td class="paramname"><em>cpu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query if a CPU is online. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scheduler</td><td>Scheduler object. </td></tr>
    <tr><td class="paramname">cpu</td><td>CPU number whose online status should be queried.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>The CPU is online. </td></tr>
    <tr><td class="paramname">false</td><td>The CPU is offline </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="scheduler_8h_source.html#l00375">375</a> of file <a class="el" href="scheduler_8h_source.html">scheduler.h</a>.</p>

</div>
</div>
<a id="gad2a9662639b3bc122d551dab6a1c9aca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad2a9662639b3bc122d551dab6a1c9aca">&#9670;&nbsp;</a></span>l4_scheduler_run_thread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structl4__msgtag__t.html">l4_msgtag_t</a> l4_scheduler_run_thread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a>&#160;</td>
          <td class="paramname"><em>scheduler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a>&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structl4__sched__param__t.html">l4_sched_param_t</a> const *&#160;</td>
          <td class="paramname"><em>sp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Run a thread on a Scheduler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scheduler</td><td>Scheduler object. </td></tr>
    <tr><td class="paramname">thread</td><td>Capability of the thread to run. </td></tr>
    <tr><td class="paramname">sp</td><td>Scheduling parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success. </td></tr>
    <tr><td class="paramname">-L4_EINVAL</td><td>Invalid size of the scheduling parameter.</td></tr>
  </table>
  </dd>
</dl>
<p>This function launches a thread on a CPU determined by the scheduling parameter <code>sp.affinity</code>. A thread can be intentionally stopped by migrating it on an offline or an invalid CPU. The thread is only guaranteed to run if the CPU it is migrated to is currently online.</p>
<dl class="section note"><dt>Note</dt><dd>A scheduler may impose a policy with regard to selecting CPUs. However the scheduler is required to ensure the following two properties:<ul>
<li>Two threads with disjoint CPU sets must be scheduled to different physical CPUs.</li>
<li>Two threads with a single identical CPU selected in the CPU set must be scheduled to the same physical CPU. </li>
</ul>
</dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2sys_2aliens_2main_8c-example.html#a35">examples/sys/aliens/main.c</a>, <a class="el" href="examples_2sys_2singlestep_2main_8c-example.html#a19">examples/sys/singlestep/main.c</a>, <a class="el" href="examples_2sys_2start-with-exc_2main_8c-example.html#a19">examples/sys/start-with-exc/main.c</a>, and <a class="el" href="examples_2sys_2utcb-ipc_2main_8c-example.html#a30">examples/sys/utcb-ipc/main.c</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="scheduler_8h_source.html#l00361">361</a> of file <a class="el" href="scheduler_8h_source.html">scheduler.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Apr 18 2022 20:48:55 for L4Re – L4 Runtime Environment by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
