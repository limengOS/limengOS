<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>L4Re – L4 Runtime Environment: L4Re::Dataspace Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="l4re.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">L4Re – L4 Runtime Environment
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classL4Re_1_1Dataspace.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">L4Re::Dataspace Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface for memory-like objects.  
 <a href="classL4Re_1_1Dataspace.html#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for L4Re::Dataspace:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classL4Re_1_1Dataspace__inherit__graph.svg" width="435" height="1004"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for L4Re::Dataspace:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classL4Re_1_1Dataspace__coll__graph.svg" width="435" height="575"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structL4Re_1_1Dataspace_1_1F.html">F</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classL4Re_1_1Dataspace.html" title="Interface for memory-like objects.">Dataspace</a> flags definitions.  <a href="structL4Re_1_1Dataspace_1_1F.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structL4Re_1_1Dataspace_1_1Stats.html">Stats</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about the dataspace.  <a href="structL4Re_1_1Dataspace_1_1Stats.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af3a869e7c1b321c52ae99fa60559efa0"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Dataspace.html#af3a869e7c1b321c52ae99fa60559efa0">map</a> (Offset offset, Flags <a class="el" href="classL4Re_1_1Dataspace.html#a52b562764431fbb94fc960f9bba5b29b">flags</a>, Map_addr local_addr, Map_addr min_addr, Map_addr max_addr) const noexcept</td></tr>
<tr class="memdesc:af3a869e7c1b321c52ae99fa60559efa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a flex-page mapping from the dataspace.  <a href="classL4Re_1_1Dataspace.html#af3a869e7c1b321c52ae99fa60559efa0">More...</a><br /></td></tr>
<tr class="separator:af3a869e7c1b321c52ae99fa60559efa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7caf317574ca8fa0f43bcd333f7bb860"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Dataspace.html#a7caf317574ca8fa0f43bcd333f7bb860">map_region</a> (Offset offset, Flags <a class="el" href="classL4Re_1_1Dataspace.html#a52b562764431fbb94fc960f9bba5b29b">flags</a>, Map_addr min_addr, Map_addr max_addr) const noexcept</td></tr>
<tr class="memdesc:a7caf317574ca8fa0f43bcd333f7bb860"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map a part of a dataspace into a local memory area.  <a href="classL4Re_1_1Dataspace.html#a7caf317574ca8fa0f43bcd333f7bb860">More...</a><br /></td></tr>
<tr class="separator:a7caf317574ca8fa0f43bcd333f7bb860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec6654feafb167a373e056b326a99151"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Dataspace.html#aec6654feafb167a373e056b326a99151">clear</a> (Offset offset, Size <a class="el" href="classL4Re_1_1Dataspace.html#a3b8146022801189ebf9143091ef79642">size</a>)</td></tr>
<tr class="memdesc:aec6654feafb167a373e056b326a99151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear parts of a dataspace.  <a href="classL4Re_1_1Dataspace.html#aec6654feafb167a373e056b326a99151">More...</a><br /></td></tr>
<tr class="separator:aec6654feafb167a373e056b326a99151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af54638ea6c363bb5096267a0eb89d86a"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Dataspace.html#af54638ea6c363bb5096267a0eb89d86a">allocate</a> (Offset offset, Size <a class="el" href="classL4Re_1_1Dataspace.html#a3b8146022801189ebf9143091ef79642">size</a>)</td></tr>
<tr class="memdesc:af54638ea6c363bb5096267a0eb89d86a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a range in the dataspace.  <a href="classL4Re_1_1Dataspace.html#af54638ea6c363bb5096267a0eb89d86a">More...</a><br /></td></tr>
<tr class="separator:af54638ea6c363bb5096267a0eb89d86a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ba4a8d1053498647834e622daf285a"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Dataspace.html#a21ba4a8d1053498647834e622daf285a">copy_in</a> (Offset dst_offs, <a class="el" href="classL4_1_1Ipc_1_1Cap.html">L4::Ipc::Cap</a>&lt; <a class="el" href="classL4Re_1_1Dataspace.html">Dataspace</a> &gt; src, Offset src_offs, Size <a class="el" href="classL4Re_1_1Dataspace.html#a3b8146022801189ebf9143091ef79642">size</a>)</td></tr>
<tr class="memdesc:a21ba4a8d1053498647834e622daf285a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy contents from another dataspace.  <a href="classL4Re_1_1Dataspace.html#a21ba4a8d1053498647834e622daf285a">More...</a><br /></td></tr>
<tr class="separator:a21ba4a8d1053498647834e622daf285a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b8146022801189ebf9143091ef79642"><td class="memItemLeft" align="right" valign="top">Size&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Dataspace.html#a3b8146022801189ebf9143091ef79642">size</a> () const noexcept</td></tr>
<tr class="memdesc:a3b8146022801189ebf9143091ef79642"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get size of a dataspace.  <a href="classL4Re_1_1Dataspace.html#a3b8146022801189ebf9143091ef79642">More...</a><br /></td></tr>
<tr class="separator:a3b8146022801189ebf9143091ef79642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b562764431fbb94fc960f9bba5b29b"><td class="memItemLeft" align="right" valign="top">Flags&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Dataspace.html#a52b562764431fbb94fc960f9bba5b29b">flags</a> () const noexcept</td></tr>
<tr class="memdesc:a52b562764431fbb94fc960f9bba5b29b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get flags of the dataspace.  <a href="classL4Re_1_1Dataspace.html#a52b562764431fbb94fc960f9bba5b29b">More...</a><br /></td></tr>
<tr class="separator:a52b562764431fbb94fc960f9bba5b29b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67190f2465d092c35c62d432814a8b3"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4Re_1_1Dataspace.html#aa67190f2465d092c35c62d432814a8b3">info</a> (<a class="el" href="structL4Re_1_1Dataspace_1_1Stats.html">Stats</a> *stats)</td></tr>
<tr class="memdesc:aa67190f2465d092c35c62d432814a8b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information on the dataspace.  <a href="classL4Re_1_1Dataspace.html#aa67190f2465d092c35c62d432814a8b3">More...</a><br /></td></tr>
<tr class="separator:aa67190f2465d092c35c62d432814a8b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classL4_1_1Kobject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classL4_1_1Kobject')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classL4_1_1Kobject.html">L4::Kobject</a></td></tr>
<tr class="memitem:a9fe009599de49f1af438ff49998faec0 inherit pub_methods_classL4_1_1Kobject"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structl4__msgtag__t.html">l4_msgtag_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4_1_1Kobject.html#a9fe009599de49f1af438ff49998faec0">dec_refcnt</a> (<a class="el" href="group__l4__basic__types.html#ga51d9492e7700d70ed35838154ca9b279">l4_mword_t</a> diff, <a class="el" href="group__l4__utcb__api.html#ga89be8a86d11c1d532b636cc2df1330fb">l4_utcb_t</a> *utcb=<a class="el" href="group__l4__utcb__api.html#gadc099b4a59e1d99638c72c11a8c8b644">l4_utcb</a>())</td></tr>
<tr class="memdesc:a9fe009599de49f1af438ff49998faec0 inherit pub_methods_classL4_1_1Kobject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrement the in kernel reference counter for the object.  <a href="classL4_1_1Kobject.html#a9fe009599de49f1af438ff49998faec0">More...</a><br /></td></tr>
<tr class="separator:a9fe009599de49f1af438ff49998faec0 inherit pub_methods_classL4_1_1Kobject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_types_classL4_1_1Kobject__t"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classL4_1_1Kobject__t')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classL4_1_1Kobject__t.html">L4::Kobject_t&lt; Dataspace, L4::Kobject, L4RE_PROTO_DATASPACE, L4::Type_info::Demand_t&lt; 1 &gt; &gt;</a></td></tr>
<tr class="memitem:af7df35ba5bf68ef5993e605a6b62328a inherit pro_types_classL4_1_1Kobject__t"><td class="memItemLeft" align="right" valign="top"><a id="af7df35ba5bf68ef5993e605a6b62328a"></a>
typedef Dataspace&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4_1_1Kobject__t.html#af7df35ba5bf68ef5993e605a6b62328a">Class</a></td></tr>
<tr class="memdesc:af7df35ba5bf68ef5993e605a6b62328a inherit pro_types_classL4_1_1Kobject__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">The target interface type (inheriting from Kobject_t) <br /></td></tr>
<tr class="separator:af7df35ba5bf68ef5993e605a6b62328a inherit pro_types_classL4_1_1Kobject__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d83157994565e9c01f10006bdda2efa inherit pro_types_classL4_1_1Kobject__t"><td class="memItemLeft" align="right" valign="top"><a id="a0d83157994565e9c01f10006bdda2efa"></a>
typedef Typeid::Iface&lt; PROTO, Dataspace &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4_1_1Kobject__t.html#a0d83157994565e9c01f10006bdda2efa">__Iface</a></td></tr>
<tr class="memdesc:a0d83157994565e9c01f10006bdda2efa inherit pro_types_classL4_1_1Kobject__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">The interface description for the derived class. <br /></td></tr>
<tr class="separator:a0d83157994565e9c01f10006bdda2efa inherit pro_types_classL4_1_1Kobject__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2feec2f4a15e85286aabfa15c53e06 inherit pro_types_classL4_1_1Kobject__t"><td class="memItemLeft" align="right" valign="top"><a id="afc2feec2f4a15e85286aabfa15c53e06"></a>
typedef Typeid::Merge_list&lt; Typeid::Iface_list&lt; <a class="el" href="classL4_1_1Kobject__t.html#a0d83157994565e9c01f10006bdda2efa">__Iface</a> &gt;, typename Base::__Iface_list &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4_1_1Kobject__t.html#afc2feec2f4a15e85286aabfa15c53e06">__Iface_list</a></td></tr>
<tr class="memdesc:afc2feec2f4a15e85286aabfa15c53e06 inherit pro_types_classL4_1_1Kobject__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of all RPC interfaces provided directly or through inheritance. <br /></td></tr>
<tr class="separator:afc2feec2f4a15e85286aabfa15c53e06 inherit pro_types_classL4_1_1Kobject__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classL4_1_1Kobject__t"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classL4_1_1Kobject__t')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classL4_1_1Kobject__t.html">L4::Kobject_t&lt; Dataspace, L4::Kobject, L4RE_PROTO_DATASPACE, L4::Type_info::Demand_t&lt; 1 &gt; &gt;</a></td></tr>
<tr class="memitem:a3bdb79caef884f597f088bd36e40527f inherit pro_methods_classL4_1_1Kobject__t"><td class="memItemLeft" align="right" valign="top"><a id="a3bdb79caef884f597f088bd36e40527f"></a>
<a class="el" href="classL4_1_1Cap.html">L4::Cap</a>&lt; <a class="el" href="classL4_1_1Kobject__t.html#af7df35ba5bf68ef5993e605a6b62328a">Class</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4_1_1Kobject__t.html#a3bdb79caef884f597f088bd36e40527f">c</a> () const noexcept</td></tr>
<tr class="memdesc:a3bdb79caef884f597f088bd36e40527f inherit pro_methods_classL4_1_1Kobject__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the capability to ourselves. <br /></td></tr>
<tr class="separator:a3bdb79caef884f597f088bd36e40527f inherit pro_methods_classL4_1_1Kobject__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classL4_1_1Kobject"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classL4_1_1Kobject')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classL4_1_1Kobject.html">L4::Kobject</a></td></tr>
<tr class="memitem:a4f2117ae76762f4084e6a1adb915863c inherit pro_methods_classL4_1_1Kobject"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__l4__cap__api.html#ga1445e923ce73029130d569d6e69a4dd8">l4_cap_idx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4_1_1Kobject.html#a4f2117ae76762f4084e6a1adb915863c">cap</a> () const noexcept</td></tr>
<tr class="memdesc:a4f2117ae76762f4084e6a1adb915863c inherit pro_methods_classL4_1_1Kobject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return capability selector.  <a href="classL4_1_1Kobject.html#a4f2117ae76762f4084e6a1adb915863c">More...</a><br /></td></tr>
<tr class="separator:a4f2117ae76762f4084e6a1adb915863c inherit pro_methods_classL4_1_1Kobject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classL4_1_1Kobject__t"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classL4_1_1Kobject__t')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classL4_1_1Kobject__t.html">L4::Kobject_t&lt; Dataspace, L4::Kobject, L4RE_PROTO_DATASPACE, L4::Type_info::Demand_t&lt; 1 &gt; &gt;</a></td></tr>
<tr class="memitem:a7433b8eed587278821dd496864f75363 inherit pro_static_methods_classL4_1_1Kobject__t"><td class="memItemLeft" align="right" valign="top"><a id="a7433b8eed587278821dd496864f75363"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classL4_1_1Kobject__t.html#a7433b8eed587278821dd496864f75363">__check_protocols__</a> () noexcept</td></tr>
<tr class="memdesc:a7433b8eed587278821dd496864f75363 inherit pro_static_methods_classL4_1_1Kobject__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to check for protocol conflicts. <br /></td></tr>
<tr class="separator:a7433b8eed587278821dd496864f75363 inherit pro_static_methods_classL4_1_1Kobject__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface for memory-like objects. </p>
<p>Dataspaces are a central abstraction provided by <a class="el" href="namespaceL4Re.html" title="L4Re C++ Interfaces.">L4Re</a>. A dataspace is an abstraction for any thing that is available via usual memory access instructions. A dataspace can be a file, as well as the memory-mapped registers of a device, or anonymous memory, such as a heap.</p>
<p>The dataspace interface defines a set of methods that allow any kind of dataspace to be attached (mapped) to the virtual address space of an <a class="el" href="namespaceL4.html" title="L4 low-level kernel interface.">L4</a> task and then be accessed via memory-access instructions. The <a class="el" href="classL4Re_1_1Rm.html" title="Region map.">L4Re::Rm</a> interface can be used to attach a dataspace to a virtual address space of a task paged by a certain instance of a region map.</p>
<dl class="section user"><dt>Include File</dt><dd><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="dataspace.html">l4/re/dataspace</a>&gt;</span> </div>
<div class="ttc" id="adataspace_html"><div class="ttname"><a href="dataspace.html">dataspace</a></div><div class="ttdoc">Dataspace interface.</div></div>
</div><!-- fragment --> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2libs_2l4re_2c_09_09_2mem_alloc_2ma_09rm_8cc-example.html#_a3">examples/libs/l4re/c++/mem_alloc/ma+rm.cc</a>, <a class="el" href="examples_2libs_2l4re_2c_09_09_2shared_ds_2ds_clnt_8cc-example.html#_a7">examples/libs/l4re/c++/shared_ds/ds_clnt.cc</a>, and <a class="el" href="examples_2libs_2l4re_2c_09_09_2shared_ds_2ds_srv_8cc-example.html#_a12">examples/libs/l4re/c++/shared_ds/ds_srv.cc</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dataspace_source.html#l00060">60</a> of file <a class="el" href="dataspace_source.html">dataspace</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af54638ea6c363bb5096267a0eb89d86a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af54638ea6c363bb5096267a0eb89d86a">&#9670;&nbsp;</a></span>allocate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long L4Re::Dataspace::allocate </td>
          <td>(</td>
          <td class="paramtype">Offset&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a range in the dataspace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Offset in the dataspace, in bytes. </td></tr>
    <tr><td class="paramname">size</td><td>Size of the range, in bytes.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">L4_EOK</td><td>Success </td></tr>
    <tr><td class="paramname">-L4_ERANGE</td><td>Given range is outside the dataspace. (A dataspace provider may also silently ignore areas outside the dataspace.) </td></tr>
    <tr><td class="paramname">-L4_ENOMEM</td><td>Not enough memory available. </td></tr>
    <tr><td class="paramname">&lt;0</td><td>IPC errors</td></tr>
  </table>
  </dd>
</dl>
<p>On success, at least the given range is guaranteed to be allocated. The dataspace manager may also allocate more memory due to page granularity.</p>
<p>The memory is allocated with the same rights as the dataspace capability. </p>

</div>
</div>
<a id="aec6654feafb167a373e056b326a99151"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec6654feafb167a373e056b326a99151">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long L4Re::Dataspace::clear </td>
          <td>(</td>
          <td class="paramtype">Offset&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear parts of a dataspace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Offset within dataspace (in bytes). </td></tr>
    <tr><td class="paramname">size</td><td>Size of region to clear (in bytes).</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;=0</td><td>Success. </td></tr>
    <tr><td class="paramname">-L4_ERANGE</td><td>Given range is outside the dataspace. (A dataspace provider may also silently ignore areas outside the dataspace.) </td></tr>
    <tr><td class="paramname">-L4_EACCESS</td><td><a class="el" href="classL4Re_1_1Dataspace.html" title="Interface for memory-like objects.">Dataspace</a> is read-only. </td></tr>
    <tr><td class="paramname">&lt;0</td><td>IPC errors</td></tr>
  </table>
  </dd>
</dl>
<p>Zeroes out the memory. Depending on the type of memory the memory could also be deallocated and replaced by a shared zero-page. </p>

</div>
</div>
<a id="a21ba4a8d1053498647834e622daf285a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21ba4a8d1053498647834e622daf285a">&#9670;&nbsp;</a></span>copy_in()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long L4Re::Dataspace::copy_in </td>
          <td>(</td>
          <td class="paramtype">Offset&#160;</td>
          <td class="paramname"><em>dst_offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classL4_1_1Ipc_1_1Cap.html">L4::Ipc::Cap</a>&lt; <a class="el" href="classL4Re_1_1Dataspace.html">Dataspace</a> &gt;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Offset&#160;</td>
          <td class="paramname"><em>src_offs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Size&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy contents from another dataspace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dst_offs</td><td>Offset in destination dataspace. </td></tr>
    <tr><td class="paramname">src</td><td>Source dataspace to copy from. </td></tr>
    <tr><td class="paramname">src_offs</td><td>Offset in the source dataspace. </td></tr>
    <tr><td class="paramname">size</td><td>Size to copy (in bytes).</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">L4_EOK</td><td>Success </td></tr>
    <tr><td class="paramname">-L4_EACCESS</td><td>Destination dataspace not writable. </td></tr>
    <tr><td class="paramname">-L4_EINVAL</td><td>Invalid parameter supplied. </td></tr>
    <tr><td class="paramname">&lt;0</td><td>IPC errors</td></tr>
  </table>
  </dd>
</dl>
<p>The copy operation may use copy-on-write mechanisms. The operation may also fail if both dataspaces are not from the same dataspace manager or the dataspace managers do not cooperate. </p>

</div>
</div>
<a id="a52b562764431fbb94fc960f9bba5b29b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52b562764431fbb94fc960f9bba5b29b">&#9670;&nbsp;</a></span>flags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Dataspace::Flags L4Re::Dataspace::flags </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get flags of the dataspace. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;=0</td><td>Flags of the dataspace </td></tr>
    <tr><td class="paramname">&lt;0</td><td>IPC errors</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structL4Re_1_1Dataspace_1_1F.html#a62af1272cb958fe0f6cb5e2ab07c2df2" title="Flags for map operations.">L4Re::Dataspace::F::Flags</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="dataspace__impl_8h_source.html#l00119">119</a> of file <a class="el" href="dataspace__impl_8h_source.html">dataspace_impl.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="vbus_source.html#l00368">L4vbus::Vbus::assign_dma_domain()</a>.</p>
<div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classL4Re_1_1Dataspace_a52b562764431fbb94fc960f9bba5b29b_icgraph.svg" width="388" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa67190f2465d092c35c62d432814a8b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67190f2465d092c35c62d432814a8b3">&#9670;&nbsp;</a></span>info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long L4Re::Dataspace::info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structL4Re_1_1Dataspace_1_1Stats.html">Stats</a> *&#160;</td>
          <td class="paramname"><em>stats</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get information on the dataspace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">stats</td><td><a class="el" href="classL4Re_1_1Dataspace.html" title="Interface for memory-like objects.">Dataspace</a> information</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">&lt;0</td><td>IPC errors </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af3a869e7c1b321c52ae99fa60559efa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3a869e7c1b321c52ae99fa60559efa0">&#9670;&nbsp;</a></span>map()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long L4Re::Dataspace::map </td>
          <td>(</td>
          <td class="paramtype">Dataspace::Offset&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dataspace::Flags&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dataspace::Map_addr&#160;</td>
          <td class="paramname"><em>local_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dataspace::Map_addr&#160;</td>
          <td class="paramname"><em>min_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dataspace::Map_addr&#160;</td>
          <td class="paramname"><em>max_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request a flex-page mapping from the dataspace. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Offset to start within dataspace </td></tr>
    <tr><td class="paramname">flags</td><td><a class="el" href="classL4Re_1_1Dataspace.html" title="Interface for memory-like objects.">Dataspace</a> flags, see <a class="el" href="structL4Re_1_1Dataspace_1_1F.html#a62af1272cb958fe0f6cb5e2ab07c2df2" title="Flags for map operations.">L4Re::Dataspace::F::Flags</a>. </td></tr>
    <tr><td class="paramname">local_addr</td><td>Local address to map to. </td></tr>
    <tr><td class="paramname">min_addr</td><td>Defines start of receive window. (Rounded down to page size.) </td></tr>
    <tr><td class="paramname">max_addr</td><td>Defines end of receive window. (Rounded up to page size.)</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">L4_EOK</td><td>Success </td></tr>
    <tr><td class="paramname">-L4_ERANGE</td><td>Invalid offset. </td></tr>
    <tr><td class="paramname">-L4_EPERM</td><td>Insufficient permission to map with requested rights. </td></tr>
    <tr><td class="paramname">&lt;0</td><td>IPC errors</td></tr>
  </table>
  </dd>
</dl>
<p>The map call will attempt to map the largest possible flexpage that covers the given local address and still fits into the region defined by <code>min_addr</code> and <code>max_addr</code>. If the given region is invalid or does not overlap the local address, the smallest valid page size is used. </p>

<p class="definition">Definition at line <a class="el" href="dataspace__impl_8h_source.html#l00094">94</a> of file <a class="el" href="dataspace__impl_8h_source.html">dataspace_impl.h</a>.</p>

<p class="reference">References <a class="el" href="l4_2sys_2consts_8h_source.html#l00331">L4_LOG2_PAGESIZE</a>.</p>

</div>
</div>
<a id="a7caf317574ca8fa0f43bcd333f7bb860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7caf317574ca8fa0f43bcd333f7bb860">&#9670;&nbsp;</a></span>map_region()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long L4Re::Dataspace::map_region </td>
          <td>(</td>
          <td class="paramtype">Dataspace::Offset&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dataspace::Flags&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dataspace::Map_addr&#160;</td>
          <td class="paramname"><em>min_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dataspace::Map_addr&#160;</td>
          <td class="paramname"><em>max_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map a part of a dataspace into a local memory area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Offset to start within dataspace. </td></tr>
    <tr><td class="paramname">flags</td><td><a class="el" href="classL4Re_1_1Dataspace.html" title="Interface for memory-like objects.">Dataspace</a> flags, see <a class="el" href="structL4Re_1_1Dataspace_1_1F.html#a62af1272cb958fe0f6cb5e2ab07c2df2" title="Flags for map operations.">L4Re::Dataspace::F::Flags</a>. </td></tr>
    <tr><td class="paramname">min_addr</td><td>(Inclusive) start of the receive area. </td></tr>
    <tr><td class="paramname">max_addr</td><td>(Exclusive) end of receive area.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">L4_EOK</td><td>Success </td></tr>
    <tr><td class="paramname">-L4_ERANGE</td><td>Invalid offset or receive area larger than the dataspace. </td></tr>
    <tr><td class="paramname">-L4_EPERM</td><td>Insufficient permission to map with requested rights. </td></tr>
    <tr><td class="paramname">&lt;0</td><td>IPC errors</td></tr>
  </table>
  </dd>
</dl>
<p>This is a convenience function which maps flex-pages consecutively into the given memory area in the local task. The area is expected to be filled completely. If the dataspace is not large enough to provide the mappings for the entire size of the area, then an error is returned. Mappings may or may not have been already established at that point.</p>
<p><code>offset</code> and <code>min_addr</code> are rounded down to the next <code>L4_PAGESIZE</code> boundary when necessary. <code>max_addr</code> is rounded up to the page boundary. If the resulting maximum address is less or equal than the minimum address, then the function is a noop. </p>

<p class="definition">Definition at line <a class="el" href="dataspace__impl_8h_source.html#l00055">55</a> of file <a class="el" href="dataspace__impl_8h_source.html">dataspace_impl.h</a>.</p>

<p class="reference">References <a class="el" href="l4_2sys_2consts_8h_source.html#l00331">L4_LOG2_PAGESIZE</a>, <a class="el" href="compiler_8h_source.html#l00283">L4_UNLIKELY</a>, <a class="el" href="sys_2cxx_2consts_source.html#l00032">L4::round_order()</a>, and <a class="el" href="sys_2cxx_2consts_source.html#l00018">L4::trunc_order()</a>.</p>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classL4Re_1_1Dataspace_a7caf317574ca8fa0f43bcd333f7bb860_cgraph.svg" width="350" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3b8146022801189ebf9143091ef79642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b8146022801189ebf9143091ef79642">&#9670;&nbsp;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Dataspace::Size L4Re::Dataspace::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get size of a dataspace. </p>
<dl class="section return"><dt>Returns</dt><dd>Size of the dataspace in bytes. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="examples_2libs_2l4re_2c_09_09_2shared_ds_2ds_clnt_8cc-example.html#a11">examples/libs/l4re/c++/shared_ds/ds_clnt.cc</a>.</dd>
</dl>

<p class="definition">Definition at line <a class="el" href="dataspace__impl_8h_source.html#l00109">109</a> of file <a class="el" href="dataspace__impl_8h_source.html">dataspace_impl.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>l4/re/<a class="el" href="dataspace_source.html">dataspace</a></li>
<li>l4/re/impl/<a class="el" href="dataspace__impl_8h_source.html">dataspace_impl.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceL4Re.html">L4Re</a></li><li class="navelem"><a class="el" href="classL4Re_1_1Dataspace.html">Dataspace</a></li>
    <li class="footer">Generated on Mon Apr 18 2022 20:48:55 for L4Re – L4 Runtime Environment by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
